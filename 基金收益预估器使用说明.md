# 基金收益预估器使用说明

## 功能介绍

这是一个基于原生HTML/CSS/JavaScript开发的基金收益预估工具，可以帮助您：

- 📊 实时查看基金净值和估值
- 💰 计算预估收益和收益率
- 📈 统计总体投资情况
- 💾 本地缓存数据，无需重复输入
- 📱 响应式设计，支持移动端

## 使用方法

### 1. 打开页面
直接在浏览器中打开 `fund_calculator.html` 文件即可使用。

### 2. 添加基金
- 输入6位基金代码（如：000001）
- 输入投资本金金额
- 点击"添加基金"按钮

### 3. 查看收益
添加基金后，系统会自动：
- 获取基金的最新净值和估算净值
- 计算预估收益和收益率
- 显示在基金列表中

### 4. 刷新数据
点击"刷新数据"按钮可以更新所有基金的最新数据。

### 5. 删除基金
点击基金列表中的删除按钮（🗑️）可以移除不需要的基金。

### 6. 每日数据更新（复利计算）
- **自动检测**：每天第一次打开页面时，系统会自动检测是否需要进行每日更新
- **复利计算**：将前一天的收益计入本金，实现复利效果
- **用户确认**：系统会弹出确认对话框，用户可以选择是否进行更新
- **手动结算**：点击"手动结算"按钮可以随时将当前收益计入本金

### 7. 数据排序
- 点击表格标题可以对相应列进行排序
- 支持升序/降序切换
- 特别适用于按收益金额排序，快速找到表现最好的基金

## 数据说明

### 基金数据来源
- 数据来源：东方财富基金API
- 更新频率：交易日实时更新
- 数据包含：基金代码、名称、最新净值、估算净值、涨跌幅等

### 收益计算逻辑
```
份额 = 本金 ÷ 最新净值
当前市值 = 份额 × 估算净值
预估收益 = 当前市值 - 本金
收益率 = (预估收益 ÷ 本金) × 100%
```

### 数据缓存
- 所有添加的基金数据会自动保存到浏览器的localStorage中
- 下次打开页面时会自动加载之前的数据
- 清除浏览器数据会删除缓存的基金信息

## 注意事项

### 跨域问题
由于浏览器的跨域限制，直接获取基金API数据可能会失败。解决方案：

1. **使用本地服务器**：通过HTTP服务器打开页面（推荐）
2. **浏览器设置**：启动浏览器时添加跨域参数
3. **代理服务**：使用代理服务器转发请求

### 数据准确性
- 估算净值仅供参考，实际收益以基金公司公布的净值为准
- 数据更新时间为交易日的9:30-15:00
- 非交易时间显示的是上一个交易日的数据

### 浏览器兼容性
- 支持现代浏览器（Chrome、Firefox、Safari、Edge）
- 需要支持ES6语法和localStorage
- 移动端浏览器完全支持

## 常见问题

### Q: 为什么获取不到基金数据？
A: 可能是跨域问题，建议使用本地HTTP服务器打开页面，或者使用支持跨域的浏览器设置。

### Q: 数据多久更新一次？
A: 基金估值数据在交易时间内实时更新，您可以手动点击"刷新数据"获取最新信息。

### Q: 收益计算是否准确？
A: 收益计算基于估算净值，仅供参考。实际收益需要以基金公司公布的净值为准。

### Q: 数据会丢失吗？
A: 数据保存在浏览器的localStorage中，除非手动清除浏览器数据，否则不会丢失。

## 技术特性

- **纯前端实现**：无需后端服务器
- **响应式设计**：自适应不同屏幕尺寸
- **本地存储**：使用localStorage缓存数据
- **实时计算**：自动计算收益和收益率
- **优雅UI**：现代化的界面设计
- **错误处理**：完善的异常处理机制

## 更新日志

### v1.1.0 (2024-01-15)
- ✨ 新增每日数据更新功能（复利计算）
- ✨ 新增表格排序功能
- ✨ 新增手动结算按钮
- ✨ 优化用户交互体验
- ✨ 添加确认对话框

### v1.0.0 (2024-01-15)
- ✨ 初始版本发布
- ✨ 支持基金添加和删除
- ✨ 实时收益计算
- ✨ 数据本地缓存
- ✨ 响应式界面设计
- ✨ 统计信息展示

---

如有问题或建议，欢迎反馈！
